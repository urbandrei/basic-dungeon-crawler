<DOCTYPE! html>
<html>
<head>
<style>
img{
	position:absolute;
	width:100%;
	height:100%;
	left:0px;
	bottom:0px;
	image-rendering: optimizeSpeed;
	image-rendering: -moz-crisp-edges;
	image-rendering: -o-crisp-edges;
	image-rendering: -webkit-optimize-contrast;
	image-rendering: pixelated;
	image-rendering: optimize-contrast;
	-ms-interpolation-mode: nearest-neighbor;
}
seg{
	position:absolute;
	height:min(8.1vw,8.1vh);
	width:min(8.1vw,8.1vh);
	background-color:black;
	display:inline-block;
}
#square{
	position:relative;
	height:min(80vw,80vh);
	width:min(80vw,80vh);
	margin:auto;
	border-style: solid;
	border-width: min(1vw,1vh);
	overflow:clip;
}
#gameover{
	position:absolute;
	width:min(80vw,80vh);
	font-size:min(12vw,12vh);
	text-align:center;
	bottom:min(40vh,40vw);
}
#instructions{
	position:absolute;
	width:min(80vw,80vh);
	font-size:min(5vw,5vh);
	text-align:center;
	top:min(40vh,40vw);
}
#title{
	position:relative;
	height:min(15vw,15vh);
	width:min(80vw,80vh);
	margin:auto;
}
#name{
	position:relative;
	float:left;
	font-size:min(14vw,14vh);
	left:0px;
}
#score{
	position:relative;
	float:right;
	font-size:min(14vw,14vh);
	right:0px;
}
</style>
<script>
window.onload = function() {
document.addEventListener("keydown",(event) => {
	if(event.key == "w") {
		blocked = false
		for(i = 0;i<walls.length;i++) {
			if(walls[i][0] == x+(dir=="right")-(dir=="left") && walls[i][1] == y+(dir=="up")-(dir=="down")) {
				blocked = true
			}
		}
		if(!blocked) {
			newx=x+(dir=="right")-(dir=="left")
			newy=y+(dir=="up")-(dir=="down")
		}
	}
	if(event.key == "a") {
		if(dir == "up") {
			newdir = "left"
		} else if(dir == "left") {
			newdir = "down"
		} else if(dir == "down") {
			newdir = "right"
		} else if(dir == "right") {
			newdir = "up"
		}
	}
	if(event.key == "d") {
		if(dir == "up") {
			newdir = "right"
		} else if(dir == "left") {
			newdir = "up"
		} else if(dir == "down") {
			newdir = "left"
		} else if(dir == "right") {
			newdir = "down"
		}
	}
})
document.addEventListener("keyup",(event) => {
	x = newx
	y = newy
	dir = newdir
})

x = 9
newx = 9
y = 9
newy = 9
dir = "up"
newdir = "up"

walls = [[0,19],[2,19],[1,19],[3,19],[4,19],[5,19],[7,19],[6,19],[8,19],[9,19],[10,19],[11,19],[12,19],[13,19],[14,19],[15,19],[16,19],[18,19],[17,19],[19,19],[19,18],[19,17],[19,16],[19,15],[19,14],[19,13],[19,12],[19,11],[19,9],[19,10],[19,8],[19,7],[19,6],[19,4],[19,5],[19,3],[19,2],[19,1],[19,0],[18,0],[17,0],[16,0],[15,0],[14,0],[13,0],[12,0],[11,0],[10,0],[9,0],[8,0],[5,0],[7,0],[6,0],[4,0],[2,0],[3,0],[1,0],[0,0],[0,1],[0,2],[0,3],[0,4],[0,5],[0,6],[0,7],[0,8],[0,11],[0,10],[0,9],[0,12],[0,13],[0,17],[0,18],[0,14],[0,15],[0,16],[1,16],[2,16],[3,16],[3,17],[5,18],[5,17],[5,16],[6,16],[8,18],[8,17],[8,16],[9,16],[11,18],[11,17],[11,16],[12,16],[14,18],[14,17],[14,16],[16,17],[16,16],[17,16],[18,16],[1,13],[2,13],[3,13],[3,14],[5,14],[5,13],[5,12],[5,11],[4,11],[3,11],[2,11],[2,8],[3,8],[4,8],[5,8],[7,14],[8,14],[8,13],[8,12],[8,11],[7,11],[6,11],[10,14],[11,14],[11,13],[11,12],[11,11],[10,11],[9,11],[17,11],[16,11],[15,11],[14,11],[13,11],[12,11],[13,14],[14,14],[14,13],[14,12],[16,14],[16,13],[17,13],[18,13],[8,9],[6,8],[7,8],[9,8],[8,8],[10,8],[11,8],[12,8],[13,8],[14,8],[15,8],[16,8],[17,8],[18,6],[17,6],[16,6],[16,5],[18,3],[17,3],[16,3],[16,2],[13,3],[14,3],[14,2],[14,1],[14,7],[14,6],[14,5],[11,7],[11,6],[11,5],[12,5],[8,7],[8,6],[8,5],[9,5],[5,7],[5,6],[5,5],[6,5],[1,6],[2,6],[3,6],[3,5],[1,3],[2,3],[3,3],[3,2],[5,3],[5,2],[5,1],[7,3],[8,3],[8,2],[8,1],[10,3],[11,3],[11,2],[11,1],[11,10],[13,9],[15,10],[17,9],[6,10],[4,9],[2,10]]



function render() {
	document.getElementById("0left").style.opacity = 0
	document.getElementById("0right").style.opacity = 0
	document.getElementById("1left").style.opacity = 0
	document.getElementById("1center").style.opacity = 0
	document.getElementById("1right").style.opacity = 0
	document.getElementById("2left").style.opacity = 0
	document.getElementById("2center").style.opacity = 0
	document.getElementById("2right").style.opacity = 0
	document.getElementById("3leftest").style.opacity = 0
	document.getElementById("3left").style.opacity = 0
	document.getElementById("3center").style.opacity = 0
	document.getElementById("3right").style.opacity = 0
	document.getElementById("3rightest").style.opacity = 0

	for(i = 0; i<walls.length; i++) {
		if(x+(dir=="up")-(dir=="down")==walls[i][0] && y-(dir=="right")+(dir=="left")==walls[i][1]) {
			document.getElementById("0right").style.opacity = 1
		}
		if(x-(dir=="up")+(dir=="down")==walls[i][0] && y+(dir=="right")-(dir=="left")==walls[i][1]) {
			document.getElementById("0left").style.opacity = 1
		}
		if(x+(dir=="up")-(dir=="down")+(dir=="right")-(dir=="left")==walls[i][0] && y+(dir=="up")-(dir=="down")-(dir=="right")+(dir=="left")==walls[i][1]) {
			document.getElementById("1right").style.opacity = 1
		}
		if(x+(dir=="right")-(dir=="left")==walls[i][0] && y+(dir=="up")-(dir=="down")==walls[i][1]) {
			document.getElementById("1center").style.opacity = 1
		}
		if(x-(dir=="up")+(dir=="down")+(dir=="right")-(dir=="left")==walls[i][0] && y+(dir=="up")-(dir=="down")+(dir=="right")-(dir=="left")==walls[i][1]) {
			document.getElementById("1left").style.opacity = 1
		}
		if(x+(dir=="up")-(dir=="down")+2*(dir=="right")-2*(dir=="left")==walls[i][0] && y+2*(dir=="up")-2*(dir=="down")-(dir=="right")+(dir=="left")==walls[i][1]) {
			document.getElementById("2right").style.opacity = 1
		}
		if(x+2*(dir=="right")-2*(dir=="left")==walls[i][0] && y+2*(dir=="up")-2*(dir=="down")==walls[i][1]) {
			document.getElementById("2center").style.opacity = 1
		}
		if(x-(dir=="up")+(dir=="down")+2*(dir=="right")-2*(dir=="left")==walls[i][0] && y+2*(dir=="up")-2*(dir=="down")+(dir=="right")-(dir=="left")==walls[i][1]) {
			document.getElementById("2left").style.opacity = 1
		}
		if(x+2*(dir=="up")-2*(dir=="down")+3*(dir=="right")-3*(dir=="left")==walls[i][0] && y+3*(dir=="up")-3*(dir=="down")-2*(dir=="right")+2*(dir=="left")==walls[i][1]) {
			document.getElementById("3rightest").style.opacity = 1
		}
		if(x+(dir=="up")-(dir=="down")+3*(dir=="right")-3*(dir=="left")==walls[i][0] && y+3*(dir=="up")-3*(dir=="down")-(dir=="right")+(dir=="left")==walls[i][1]) {
			document.getElementById("3right").style.opacity = 1
		}
		if(x+3*(dir=="right")-3*(dir=="left")==walls[i][0] && y+3*(dir=="up")-3*(dir=="down")==walls[i][1]) {
			document.getElementById("3center").style.opacity = 1
		}
		if(x-(dir=="up")+(dir=="down")+3*(dir=="right")-3*(dir=="left")==walls[i][0] && y+3*(dir=="up")-3*(dir=="down")+(dir=="right")-(dir=="left")==walls[i][1]) {
			document.getElementById("3left").style.opacity = 1
		}
		if(x-2*(dir=="up")+2*(dir=="down")+3*(dir=="right")-3*(dir=="left")==walls[i][0] && y+3*(dir=="up")-3*(dir=="down")+2*(dir=="right")-2*(dir=="left")==walls[i][1]) {
			document.getElementById("3leftest").style.opacity = 1
		}
	}
}

timer = 0
setInterval(() => {
	render()
	timer++
},1000/60)
}
</script>
</head>
<body>
<div id="title">
<div id="name">Jumper</div>
<div id="score">0</div>
</div>
<div id="square">
<div id="gameover"></div>
<div id="instructions"></div>
<img id="0left" src="0left.png" style="opacity:0;">
<img id="0right" src="0right.png" style="opacity:0;">
<img id="1left" src="1left.png" style="opacity:0;">
<img id="1center" src="1center.png" style="opacity:0;">
<img id="1right" src="1right.png" style="opacity:0;">
<img id="2left" src="2left.png" style="opacity:0;">
<img id="2center" src="2center.png" style="opacity:0;">
<img id="2right" src="2right.png" style="opacity:0;">
<img id="3leftest" src="3leftest.png" style="opacity:0;">
<img id="3left" src="3left.png" style="opacity:0;">
<img id="3center" src="3center.png" style="opacity:0;">
<img id="3right" src="3right.png" style="opacity:0;">
<img id="3rightest" src="3rightest.png" style="opacity:0;">

</div>
</body>
</html>